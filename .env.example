# 钉钉提醒系统环境变量配置模板
# 复制此文件为 .env 并填入实际值

# ==================== 应用配置 ====================
NODE_ENV=production
APP_PORT=5001

# ==================== MongoDB配置 ====================
# Docker环境使用以下配置
MONGO_ROOT_USER=root
MONGO_ROOT_PASSWORD=your_root_password_here
MONGO_DB=dingtalk-scheduler
MONGO_USER=admin
MONGO_PASSWORD=your_password_here
MONGO_HOST=mongodb
MONGO_PORT=27017

# 完整连接字符串（Docker环境）
MONGODB_URL=mongodb://admin:your_password_here@mongodb:27017/dingtalk-scheduler?authSource=admin

# 本地开发环境使用
# MONGODB_URL=mongodb://admin:admin123456@localhost:27017/dingtalk-scheduler?authSource=admin

# ==================== JWT认证配置 ====================
# 请生成强密钥，可以使用: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_change_in_production
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_change_in_production
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ==================== Redis缓存配置（可选） ====================
REDIS_ENABLED=false
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
CACHE_TTL=3600

# ==================== 钉钉机器人配置（必填） ====================
# 从钉钉群机器人设置中获取
DINGTALK_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=YOUR_ACCESS_TOKEN
DINGTALK_SECRET=YOUR_SECRET_KEY

# ==================== 日志配置 ====================
LOG_LEVEL=info
LOG_DIR=./logs

# ==================== 任务调度配置 ====================
MAX_RETRY_COUNT=3
RETRY_INTERVAL=60
TASK_TIMEOUT=30
MAX_CONCURRENT_TASKS=10
SCHEDULER_ENABLED=true
DAILY_LOAD_TIME=02:00

# ==================== 监控阈值配置 ====================
CPU_THRESHOLD=80
MEMORY_THRESHOLD=85
DISK_THRESHOLD=90
RESPONSE_TIME_THRESHOLD=2000
ERROR_RATE_THRESHOLD=5

# ==================== 数据管理配置 ====================
HISTORY_RETENTION_DAYS=90
LOG_RETENTION_DAYS=30
AUTO_CLEANUP_ENABLED=true
CLEANUP_TIME=03:00

# ==================== CORS配置 ====================
# 开发环境
# CORS_ORIGIN=http://localhost:8080,http://localhost:5173

# 生产环境（通常不需要，前后端同源）
# CORS_ORIGIN=

# ==================== 文件上传配置 ====================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# ==================== 会话配置 ====================
SESSION_SECRET=your-session-secret-change-this

# ==================== 开发环境选项 ====================
# 是否创建示例数据
CREATE_SAMPLE_DATA=false

# 是否等待MongoDB启动（Docker环境）
WAIT_FOR_MONGO=true